@using TrustMeNews.Services;
@using TrustMeNews.Controllers;


@{
    string apiKey = "https://content.guardianapis.com/search?api-key=d0bd9a0e-8101-4525-8604-4ad01023d10c&order-by=newest&show-fields=all&page-size=6";
    ViewData["Title"] = "Home Page";
    NewsApiService newsApiService = new NewsApiService();
    GenresApiController controller = new GenresApiController(newsApiService);
}

<div class="articles">
    @foreach (Result article in newsApiService.SendRequest(apiKey).GetAwaiter().GetResult())
    {
        <div class="article">
            <img class="image" src="@article.fields.thumbnail" />
            <p>@article.webPublicationDate</p>
            <h5>@article.webTitle</h5>
            <p>@article.fields.trailText</p>
            <h6>@article.fields.byline</h6>
        </div>
    }
</div>
